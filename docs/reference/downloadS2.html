<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Download Sentinel-2 data (L1A) from the public GoogleCloud Bucket — downloadS2 • mapme.vegetation</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Download Sentinel-2 data (L1A) from the public GoogleCloud Bucket — downloadS2" />
<meta property="og:description" content="Download Sentinel-2 data (L1A) from the public GoogleCloud Bucket" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mapme.vegetation</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/E01-download.html">01 - Download</a>
    </li>
    <li>
      <a href="../articles/E02-calcIndices.html">02 - Calculation of Indices</a>
    </li>
    <li>
      <a href="../articles/E03-zonalstats.html">03 - Zonal Statistics</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Download Sentinel-2 data (L1A) from the public GoogleCloud Bucket</h1>
    
    <div class="hidden name"><code>downloadS2.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Download Sentinel-2 data (L1A) from the public GoogleCloud Bucket</p>
    </div>

    <pre class="usage"><span class='fu'>downloadS2</span><span class='op'>(</span>
  aoi <span class='op'>=</span> <span class='cn'>NULL</span>,
  time_window <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"2016-06-01"</span>, <span class='st'>"2019-09-30"</span><span class='op'>)</span>,
  rootdir <span class='op'>=</span> <span class='st'>"."</span>,
  extent_name <span class='op'>=</span> <span class='st'>"projectname"</span>,
  max_cloud <span class='op'>=</span> <span class='fl'>100</span>,
  time_period <span class='op'>=</span> <span class='st'>"seasonal"</span>,
  use_db <span class='op'>=</span> <span class='cn'>TRUE</span>,
  force_update <span class='op'>=</span> <span class='cn'>FALSE</span>,
  query_only <span class='op'>=</span> <span class='cn'>FALSE</span>,
  create_cloudmask <span class='op'>=</span> <span class='cn'>TRUE</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>aoi</th>
      <td><p>An <code>sf</code> or <code>Spatial</code> object with the extent for which to
download S2 data. Note that only its bounding box is going to be used to
determine the final extent.</p></td>
    </tr>
    <tr>
      <th>time_window</th>
      <td><p>A length two character specifying the time interval to be
downloaded in the form of <code>YYYY-MM-DD</code>. In cases where the years of the
start year and end year differ and he option <code>time_period = "seasonal"</code>,
data will be downloaded for the specified season for all years in the interval.
Otherwise, when <code>time_period = "all"</code>, the complete interval will be downloaded.</p></td>
    </tr>
    <tr>
      <th>rootdir</th>
      <td><p>A character vector of length 1 indicating and existing directory
either relative or absolute. Based on the value in <code>extent_name</code> a
subdirectory will be created within <code>rootdir</code> where the data
will be written to. Default is to the current directory ".".</p></td>
    </tr>
    <tr>
      <th>extent_name</th>
      <td><p>A character vector of length 1 specifying the name of the
subdirectory within rootdir where the data will be downloaded. This variable
makes it easy to distinguish between different projects.</p></td>
    </tr>
    <tr>
      <th>max_cloud</th>
      <td><p>A integer vector of length 1 indicating the percentage of cloud
cover in the scenes which will be considered for download. Any scene with a
cloud cover higher than this value will not be downloaded.</p></td>
    </tr>
    <tr>
      <th>time_period</th>
      <td><p>A length one character specifying the download behavior in
terms of the time_window variable. In cases where <code>time_period = "seasonal"</code>
the data will be downloaded seasonally between the start year and end year.
When <code>time_period = "full"</code> the complete interval will be downloaded.</p></td>
    </tr>
    <tr>
      <th>use_db</th>
      <td><p>A logical parameter indicating if the tile index
should be saved locally as an SQLite database. This significantly
speeds up future queries but also increases the local disk
space used (from about 2 GB to 5 GB). The default value is <code>TRUE</code>.</p></td>
    </tr>
    <tr>
      <th>force_update</th>
      <td><p>A logical parameter indicating if the
latest version of the tile index should be downloaded from
the Google Cloud. The default value is <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>query_only</th>
      <td><p>A logical parameter indication if the data should be downloaded
or if the query only should be processed. The default value is <code>FALSE</code>,
in case it is <code>TRUE</code> the function will return a dataframe with
information about the matching scenes.</p></td>
    </tr>
    <tr>
      <th>create_cloudmask</th>
      <td><p>A logical indicating if a cloud mask should be created
during download. Defaults to <code>TRUE</code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A character vector of variable length corresponding to the original <code>SAFE</code> name
  of successfully downloaded data which fall into the scope of the query specified
  by extent and timewindow and possibly also footprint check.</p>
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>For downloading from the public Sentinel-2 data bucket <code>gsutil</code> is used.
  This needs to be installed in advance and the path to the binary should be made
  available in the environment variable. Additionally, before downloading
  you have to log in with a Google account using <code>gcloud init</code> in the command
  line. Users are advised to use the provided Dockerfile to create an image and
  run <code>sen2tool</code> in a container. This Dockerfile automatically installs
  all required external dependencies such as <code>gsutils</code> and <code>gdal</code> binaries.</p>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Darius Görgen, Dr. Fabian Löw (MapTailor Geospatial Consulting GbR) <a href='mailto:info@maptailor.net'>info@maptailor.net</a>
<br />
<em>Maintainer:</em> KfW FZ Evaluierung <a href='mailto:FZ-Evaluierung@kfw.de'>FZ-Evaluierung@kfw.de</a>
<br />
<em>Contact Person:</em> Dr. Johannes Schielein
<br />
<em>Copyright:</em> KfW Bankengruppe
<br />
<em>License:</em> GPL-3</p>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by KfW Bankengruppe, Darius Görgen, Fabian Löw.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


