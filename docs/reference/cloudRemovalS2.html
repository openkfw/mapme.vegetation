<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Cloud Removal with the Sentinel-2 L1C cloud mask — cloudRemovalS2 • sen2tool</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Cloud Removal with the Sentinel-2 L1C cloud mask — cloudRemovalS2" />
<meta property="og:description" content="This function uses the fairly simple cloud mask which is
  shipped with the L1C data sets to remove cloudy pixels.
  A buffer can be applied to account for mixed pixels at the
  cloud edges as well as cloud shadow to some extent. The buffer
  assumes the projection of the data to be in meters, which is
  the case when the workflow of this package is used since
  the data is projected to the associated UTM zone." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">sen2tool</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/a01_s2-download.html">Download</a>
    </li>
    <li>
      <a href="../articles/a02_s2-process.html">Pre-Process</a>
    </li>
    <li>
      <a href="../articles/a03_s2-analysis.html">Analysis</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Cloud Removal with the Sentinel-2 L1C cloud mask</h1>
    
    <div class="hidden name"><code>cloudRemovalS2.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function uses the fairly simple cloud mask which is
  shipped with the L1C data sets to remove cloudy pixels.
  A buffer can be applied to account for mixed pixels at the
  cloud edges as well as cloud shadow to some extent. The buffer
  assumes the projection of the data to be in meters, which is
  the case when the workflow of this package is used since
  the data is projected to the associated UTM zone.</p>
    </div>

    <pre class="usage"><span class='fu'>cloudRemovalS2</span>(
  <span class='kw'>datadir</span> <span class='kw'>=</span> <span class='st'>"/home/rstudio/sen2tool/data/testregion/L1C"</span>,
  <span class='kw'>tifdir</span> <span class='kw'>=</span> <span class='st'>"/home/rstudio/sen2tool/data/testregion/tifs"</span>,
  <span class='kw'>outdir</span> <span class='kw'>=</span> <span class='st'>"/home/rstudio/sen2tool/data/testregion/clouds"</span>,
  <span class='no'>tiffiles</span>,
  <span class='no'>safedirs</span>,
  <span class='no'>aoi</span>,
  <span class='kw'>buffer</span> <span class='kw'>=</span> <span class='fl'>100</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>datadir</th>
      <td><p>A charachter vector representing an absolute path
to the original SAFE directories. From these directories the
cloud mask is extracted. Note, that the naming conventions
between the original SAFE products and the translated tif files
differ slightly. Therefore, users are advised</p></td>
    </tr>
    <tr>
      <th>tifdir</th>
      <td><p>A charachter vector representing an absolute path
to a directory where the translated tif files are found.</p></td>
    </tr>
    <tr>
      <th>outdir</th>
      <td><p>A charachter vector representing an absolute path
to a directory where the cloud removed tif files are written to.</p></td>
    </tr>
    <tr>
      <th>tiffiles</th>
      <td><p>A charachter vector of variable length, usually
representing the output of transTifS2. It indicates the absolute path
of all files subject to the cloud removal process. safedirs
for more very important information.</p></td>
    </tr>
    <tr>
      <th>safedirs</th>
      <td><p>A charachter vector of variable length, usually
representing the output of downloadS2. Its elements have to correspond
to the files specified in tiffiles. Note that the naming convention
between the SAFE directories and the processed tiffiles differ slightly.
Users are advised to only use the outputs of the other functions as inputs
to cloudRemovalS2, because this way it is ensured that the vectors correspond
to each other. This function does not include a check whether tiffiles and
safedirs correspond. Thus the use of list.files() at the associated
directories is strongly discouraged.</p></td>
    </tr>
    <tr>
      <th>aoi</th>
      <td><p>An object to which's extent the files are cropped.</p></td>
    </tr>
    <tr>
      <th>buffer</th>
      <td><p>A numeric vector of length 1 indicating the size
of the buffer to draw around clouds specified in map units.
When using the workflow of this package the unit is usually in
meters since the data is projected to the corresponing UTM zone
when transTifS2 is called.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A charachter vector of variable length with the absolute path
  of the cloud removed tif files in outdir corresponding to the files
  specified in tiffiles.</p>
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>This function uses a system call to 'gdal_calc.py' to speed up
  the processs of cloud removal.</p>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://maptailor.net/'>MapTailor GbR</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


